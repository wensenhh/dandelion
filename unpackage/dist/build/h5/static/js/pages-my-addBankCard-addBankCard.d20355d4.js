(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-addBankCard-addBankCard"],{"31c9":function(e,t,a){var n=a("3ba7");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("8e82a78a",n,!0,{sourceMap:!1,shadowMode:!1})},3830:function(e,t,a){"use strict";a.r(t);var n=a("a642"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"3ba7":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".container[data-v-26bbf47e]{padding:%?30?% %?50?% %?30?%}.withdrawalStyle[data-v-26bbf47e]{border-top:%?2?% solid #eee;margin:auto}.div_style[data-v-26bbf47e]{display:flex;padding:%?28?% %?0?%;position:relative}.div_style .available[data-v-26bbf47e]{width:%?180?%}.div_style .serviceCharge[data-v-26bbf47e]{margin-left:%?28?%}.div_style .serviceCharge[data-v-26bbf47e]{position:absolute;right:0;width:%?200?%}.div_style uni-button[data-v-26bbf47e]{width:%?237?%;background-color:#f73037;border-radius:%?5?%;font-size:%?26?%;color:#fff}.btnSure[data-v-26bbf47e]{position:fixed;bottom:%?64?%;width:100%}.btnSure uni-button[data-v-26bbf47e]{width:95%;border-radius:%?60?%;background-color:#f73037;color:#fff;font-size:%?24?%;padding:%?18?%}.div_style .money[data-v-26bbf47e]{color:#f55}.div_style .choice[data-v-26bbf47e]{color:#f73037}.sczm uni-image[data-v-26bbf47e]{width:%?165?%;height:%?165?%}.btn-top[data-v-26bbf47e]{margin-top:%?100?%}.bank-title[data-v-26bbf47e]{text-align:center;font-size:%?38?%;font-weight:bolder;margin:%?20?% %?0?%}.bank-desc[data-v-26bbf47e]{text-align:center;font-size:%?32?%;margin-bottom:%?80?%}",""]),e.exports=t},a642:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5bf5")),o={data:function(){return{show:!0,count:"",timer:null,bankInfo:{card_holder:"",type:2,back_card_type:"",sub_branch:"",card_number:"",phone:"",code:""}}},methods:{sumbit:function(){var e=this,t=[{name:"card_holder",rule:["required"],msg:["请输入持卡人"]},{name:"back_card_type",rule:["required"],msg:["请输入开户行"]},{name:"sub_branch",rule:["required"],msg:["请输入支行"]},{name:"card_number",rule:["required"],msg:["请输入卡号"]},{name:"phone",rule:["required","isMobile"],msg:["请输入手机号","请输入正确的手机号"]}],a=i.default.validation(this.bankInfo,t);a?this.tui.toast(a):this.tui.request("/User/addCard","POST",this.bankInfo).then((function(t){console.log(t),1==t.code?(e.tui.toast("提交成功"),uni.navigateBack({delta:1})):-1==t.code?(e.tui.setIsLogin(!1),uni.redirectTo({url:"/pages/tabbar/index/index"})):1==t.show&&e.tui.toast(t.msg)})).catch((function(e){}))},getCode:function(){var e=this;this.tui.request("/sms/send","POST",{mobile:this.bankInfo.phone,key:"TJYHK"}).then((function(t){1==t.code?(e.tui.toast(t.msg),e.codeTime()):-1==t.code?(e.tui.setIsLogin(!1),uni.redirectTo({url:"/pages/tabbar/index/index"})):1==t.show&&e.tui.toast(t.msg)})).catch((function(e){}))},codeTime:function(){var e=this,t=60;this.timer||(this.count=t,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}}};t.default=o},ca63:function(e,t,a){"use strict";a.r(t);var n=a("e177c"),i=a("3830");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("e439b");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"26bbf47e",null,!1,n["a"],s);t["default"]=c.exports},e177c:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={tuiButton:a("2b3f").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"bank-title"},[e._v("添加银行卡")]),a("v-uni-view",{staticClass:"bank-desc"},[e._v("请绑定持卡人本人的银行卡")]),a("v-uni-view",{staticClass:"withdrawalStyle"},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("持卡人")]),a("v-uni-input",{attrs:{type:"text",name:"card_holder",placeholder:"请输入持卡人姓名"},model:{value:e.bankInfo.card_holder,callback:function(t){e.$set(e.bankInfo,"card_holder",t)},expression:"bankInfo.card_holder"}})],1),a("v-uni-view",{staticStyle:{"border-top":"2rpx solid #EEEEEE"}},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("开户行")]),a("v-uni-input",{attrs:{type:"text",name:"back_card_type",placeholder:"请输入开户"},model:{value:e.bankInfo.back_card_type,callback:function(t){e.$set(e.bankInfo,"back_card_type",t)},expression:"bankInfo.back_card_type"}})],1)],1),a("v-uni-view",{staticStyle:{"border-top":"2rpx solid #EEEEEE"}},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("支行")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请输入开户支行"},model:{value:e.bankInfo.sub_branch,callback:function(t){e.$set(e.bankInfo,"sub_branch",t)},expression:"bankInfo.sub_branch"}})],1)],1),a("v-uni-view",{staticStyle:{"border-top":"2rpx solid #EEEEEE"}},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("卡号")]),a("v-uni-input",{attrs:{type:"text",name:"card_number",placeholder:"请输入持卡人卡号"},model:{value:e.bankInfo.card_number,callback:function(t){e.$set(e.bankInfo,"card_number",t)},expression:"bankInfo.card_number"}})],1)],1),a("v-uni-view",{staticStyle:{"border-top":"2rpx solid #EEEEEE"}},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("绑定手机")]),a("v-uni-input",{attrs:{type:"number",name:"phone",placeholder:"请输入开户 预留手机号"},model:{value:e.bankInfo.phone,callback:function(t){e.$set(e.bankInfo,"phone",t)},expression:"bankInfo.phone"}})],1)],1),a("v-uni-view",{staticStyle:{"border-top":"2rpx solid #EEEEEE"}},[a("v-uni-view",{staticClass:"div_style"},[a("v-uni-view",{staticClass:"available"},[e._v("验证码")]),a("v-uni-input",{staticStyle:{"margin-left":"40rpx"},attrs:{type:"text",placeholder:"请输入手机验证码"},model:{value:e.bankInfo.code,callback:function(t){e.$set(e.bankInfo,"code",t)},expression:"bankInfo.code"}}),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v("获取验证码")]),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.count)+"s")])],1)],1)],1),a("v-uni-view",{staticClass:"btn-top",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sumbit.apply(void 0,arguments)}}},[a("tui-button",{attrs:{height:"90rpx",size:34,type:"green",shape:"circle"}},[e._v("绑定")])],1)],1)},o=[]},e439b:function(e,t,a){"use strict";var n=a("31c9"),i=a.n(n);i.a}}]);