(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-changePassword-changePassword"],{2248:function(t,e,a){"use strict";a.r(e);var o=a("531e"),n=a("7adb");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("5100");var i,r=a("f0c5"),d=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"20803a8e",null,!1,o["a"],i);e["default"]=d.exports},5100:function(t,e,a){"use strict";var o=a("5bc2"),n=a.n(o);n.a},"531e":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o}));var o={tuiButton:a("2b3f").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tui-set-box"},[a("v-uni-view",{staticClass:"stylePassword"},[a("v-uni-text",[t._v("新密码")]),a("v-uni-view",{staticClass:"inputStyle"},[a("v-uni-input",{attrs:{type:"password",placeholder:"设置新密码",name:"nowPwd"},model:{value:t.updatePasswordInfo.nowPwd,callback:function(e){t.$set(t.updatePasswordInfo,"nowPwd",e)},expression:"updatePasswordInfo.nowPwd"}})],1)],1),a("v-uni-view",{staticClass:"stylePassword"},[a("v-uni-text",[t._v("确认密码")]),a("v-uni-view",{staticClass:"inputStyle"},[a("v-uni-input",{attrs:{type:"password",placeholder:"再次输入新密码",name:"confirmPwd"},model:{value:t.updatePasswordInfo.new_pay_password,callback:function(e){t.$set(t.updatePasswordInfo,"new_pay_password",e)},expression:"updatePasswordInfo.new_pay_password"}})],1)],1),a("v-uni-view",{staticClass:"stylePassword"},[a("v-uni-text",[t._v("验证码")]),a("v-uni-view",{staticClass:"inputStyle-code"},[a("v-uni-input",{attrs:{type:"number",placeholder:"输入验证码",name:"code"},model:{value:t.updatePasswordInfo.code,callback:function(e){t.$set(t.updatePasswordInfo,"code",e)},expression:"updatePasswordInfo.code"}})],1),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v("获取验证码")]),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.count)+"s")])],1),a("v-uni-view",{staticClass:"btnSure",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitForm.apply(void 0,arguments)}}},[a("tui-button",{attrs:{height:"90rpx",size:34,type:"green",shape:"circle"}},[t._v("提交")])],1)],1)},s=[]},"5bc2":function(t,e,a){var o=a("c6ab");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("40b5b902",o,!0,{sourceMap:!1,shadowMode:!1})},"7adb":function(t,e,a){"use strict";a.r(e);var o=a("de55"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,(function(){return o[t]}))}(s);e["default"]=n.a},c6ab:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,"uni-page-body[data-v-20803a8e]{background-color:#fff}.tui-set-box[data-v-20803a8e]{padding:%?30?%;color:#333}.stylePassword[data-v-20803a8e]{display:flex;padding:%?25?% %?0?%}.stylePassword uni-text[data-v-20803a8e]{color:#2c2d2c;font-size:%?32?%;line-height:%?100?%;width:%?150?%}.stylePassword .inputStyle[data-v-20803a8e]{width:%?496?%;border:#f6f6f6 solid %?1?%;margin-left:%?24?%;padding:%?24?%;background-color:#f6f6f6;border-radius:%?20?%}.stylePassword .inputStyle-code[data-v-20803a8e]{width:%?296?%;border:#f6f6f6 solid %?1?%;margin-left:%?24?%;padding:%?24?%;background-color:#f6f6f6;border-radius:%?20?%}.stylePassword uni-button[data-v-20803a8e]{width:%?200?%;height:%?60?%;line-height:%?60?%;background-color:#f73037;border-radius:%?5?%;font-size:%?26?%;color:#fff;margin-top:%?20?%}.btnSure[data-v-20803a8e]{position:fixed;bottom:%?64?%;width:90%}body.?%PAGE?%[data-v-20803a8e]{background-color:#fff}",""]),t.exports=e},de55:function(t,e,a){"use strict";var o=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=o(a("1da1")),s=o(a("5bf5")),i=a("6076"),r={data:function(){return{count:"",show:!0,updatePasswordInfo:{nowPwd:"",new_pay_password:"",code:"",mobile:""}}},onLoad:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.getUser)();case 2:a=e.sent,1==a.code&&(t.updatePasswordInfo.mobile=a.data.mobile);case 4:case"end":return e.stop()}}),e)})))()},methods:{submitForm:function(){var t=this,e=[{name:"nowPwd",rule:["required","minLength:6","maxLength:16"],msg:["请输入新密码","输入密码最少6位","输入密码最多16位"]},{name:"new_pay_password",rule:["required","minLength:6","maxLength:16"],msg:["请输入确认密码","输入确认密码最少6位","输入确认密码最多16位"]},{name:"code",rule:["required"],msg:["请输入验证码码"]}],a=s.default.validation(this.updatePasswordInfo,e);if(a)this.tui.toast(a);else{if(this.updatePasswordInfo.new_pay_password!=this.updatePasswordInfo.nowPwd)return this.tui.toast("两次密码不一致哦"),!1;this.tui.request("/user/retrievePayPassword","POST",this.updatePasswordInfo).then((function(e){console.log(e),1==e.code?t.tui.toast("提交成功"):1==e.show&&t.tui.toast(e.msg)})).catch((function(t){}))}},getCode:function(){var t=this;this.tui.request("/sms/send","POST",{mobile:this.updatePasswordInfo.mobile,key:"ZHZFMM"}).then((function(e){console.log(e,1==e.code),1==e.code?(t.codeTime(),t.tui.toast(e.msg)):1==e.show&&t.tui.toast(e.msg)})).catch((function(t){}))},codeTime:function(){var t=this,e=60;this.timer||(this.count=e,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3))}}};e.default=r}}]);